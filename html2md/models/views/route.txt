#!/usr/bin/env python3
"""
module defining our api endpoints
"""
from flask import Flask, jsonify
from engine import downloadUrl
import requests

app = Flask(__name__)

@app.route("/markdown", methods=['GET'], strict_slashes=False)
def getMarkdown():
    """ 
    route method to parse html to markdown
    """
    res = downloadUrl("https://www.geeksforgeeks.org/flask-http-methods-handle-get-post-requests/")
    """
    if res.headers["Content-Type"] == 'text/plain':
        # If the content type is 'text/plain', treat the request data as text
        html_content = res.content
    elif res.headers["Content-Type"] == 'text/html':
        # If the content type is 'text/html', treat the request data as HTML
        html_content = res.content
    
    elif res.content_type == 'application/json':
        # If the content type is 'application/json', expect a JSON payload
        data = res.get_json()
        if 'text' in data:
            html_content = data['text']
        elif 'link' in data:
            pass
        else:
            return jsonify({'error': 'Invalid JSON format'}), 400
    else:
        return jsonify({'error': 'Invalid Content-Type'}), 400
    """ 
    return res

if __name__ == "__main__":
    app.run()